# Отчет о выполнении ДЗ по CouchDB + PouchDB

Для начало описание этих 2х БД для понимания их ключевых особенностей и областей применения:

CouchDB и PouchDB - это две базы данных, ориентированные на документы, которые могут работать в браузере и на сервере. Обе они используют модель данных NoSQL и являются проектами с открытым исходным кодом.

*1) CouchDB:*

- Серверная база данных: CouchDB представляет собой серверную базу данных, которая может хранить и обрабатывать большие объемы документов в формате JSON.
- Распределенность и репликация: Одна из ключевых особенностей CouchDB - это возможность распределенного хранения данных и репликации между несколькими узлами.
- RESTful API: CouchDB предоставляет RESTful API для доступа к данным, что делает его очень удобным для взаимодействия с другими приложениями и сервисами.
- Мастер-мастер репликация: CouchDB использует модель мастер-мастер репликации, что означает, что каждый узел может быть как источником, так и получателем данных.
- MapReduce: CouchDB поддерживает MapReduce для выполнения запросов и агрегации данных.

*2) PouchDB:*

- Клиентская база данных: PouchDB, с другой стороны, является базой данных, предназначенной для работы в браузере или любой другой среде, где доступен JavaScript.
- Синхронизация с CouchDB: Одним из важных преимуществ PouchDB является его способность синхронизироваться с CouchDB. Это означает, что данные, хранящиеся в PouchDB, могут быть легко синхронизированы с базой данных CouchDB на сервере.
- Поддержка offline: PouchDB позволяет приложениям работать в автономном режиме (offline), сохраняя данные локально на устройстве и синхронизируя их с сервером при возможности.
- API схож с CouchDB: PouchDB предоставляет API, которое во многом похоже на API CouchDB, что упрощает разработку приложений, которые используют обе базы данных.
- Обе эти базы данных могут быть очень полезными в веб-разработке и мобильных приложениях, где требуется хранение и синхронизация данных между клиентом и сервером.

### Ход работы

1) Запускаем CouchDB в docker контейнере передавая логин и пароль для базы в качестве переменных окружения:

`docker run --rm -d --name couchdb -p 5984:5984 -e COUCHDB_USER=admin -e COUCHDB_PASSWORD=password couchdb:latest`

2) Далее вбиваем в браузер: `http://127.0.0.1:5984/_utils` и вставляем наш логин и пароль

![](images/1.png)

3) После того как залогинились идем создавать базу

![](images/2.png)

4) Добавляем json в базу и после этого идем активировать `CORS`, обязательно выбирая флаг `All domains ( * )`

![](images/3.png)

5) В `ДЗ_2.html` прописываем на 25 строчке в секции `Remote` ссылку до нашей базы: `http://admin:password@localhost:5984/mydb`


6) Запускаем `ДЗ_2.html` в браузере и нажимаем кнопку «sync». Убеждаемся, что фамилия появилась на экране.

![](images/4.png)

6) Остановливаем CouchDB/Couchbase сервер

![](images/5.png)

7) Обновляем `ДЗ_2.html`, нажатием sync, и убеждаемся, что в нём по-прежнему фигурирует фамилия.

### Вывод

Наши данные из Remote CouchDB синхронизировались с данными из Local PouchDB. И в случае сетевой недоступности CouchDB html страница все равно осталась доступна, сохранившись в локальной PouchDB.


